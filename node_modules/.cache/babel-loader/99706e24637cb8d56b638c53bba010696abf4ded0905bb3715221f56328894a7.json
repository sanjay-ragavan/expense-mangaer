{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,TextField,Button,Typography,Paper,CircularProgress}from'@mui/material';import{getBudget,setBudget}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetForm=()=>{const[budget,setBudgetState]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchBudget();},[]);const fetchBudget=async()=>{try{const data=await getBudget();setBudgetState(data.amount);setError(null);}catch(err){setError('Failed to fetch budget');console.error('Error fetching budget:',err);}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{await setBudget(budget);setError(null);}catch(err){setError('Failed to update budget');console.error('Error updating budget:',err);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",p:3,children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Monthly Budget\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(TextField,{type:\"number\",label:\"Budget Amount\",value:budget,onChange:e=>setBudgetState(Number(e.target.value)),InputProps:{startAdornment:/*#__PURE__*/_jsx(Typography,{children:\"$\"})},error:!!error,helperText:error,disabled:loading,fullWidth:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",disabled:loading,children:\"Update Budget\"})]})})]});};export default BudgetForm;","map":{"version":3,"names":["React","useState","useEffect","Box","TextField","Button","Typography","Paper","CircularProgress","getBudget","setBudget","jsx","_jsx","jsxs","_jsxs","BudgetForm","budget","setBudgetState","loading","setLoading","error","setError","fetchBudget","data","amount","err","console","handleSubmit","e","preventDefault","display","justifyContent","p","children","elevation","sx","mb","variant","gutterBottom","onSubmit","gap","alignItems","type","label","value","onChange","Number","target","InputProps","startAdornment","helperText","disabled","fullWidth","color"],"sources":["C:/Users/sanja/OneDrive/Desktop/New folder/frontend/src/components/BudgetForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { getBudget, setBudget } from '../api/api';\r\n\r\nconst BudgetForm: React.FC = () => {\r\n  const [budget, setBudgetState] = useState<number>(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchBudget();\r\n  }, []);\r\n\r\n  const fetchBudget = async () => {\r\n    try {\r\n      const data = await getBudget();\r\n      setBudgetState(data.amount);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to fetch budget');\r\n      console.error('Error fetching budget:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await setBudget(budget);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to update budget');\r\n      console.error('Error updating budget:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" p={3}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Monthly Budget\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <Box display=\"flex\" gap={2} alignItems=\"center\">\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Budget Amount\"\r\n            value={budget}\r\n            onChange={(e) => setBudgetState(Number(e.target.value))}\r\n            InputProps={{\r\n              startAdornment: <Typography>$</Typography>\r\n            }}\r\n            error={!!error}\r\n            helperText={error}\r\n            disabled={loading}\r\n            fullWidth\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={loading}\r\n          >\r\n            Update Budget\r\n          </Button>\r\n        </Box>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default BudgetForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}