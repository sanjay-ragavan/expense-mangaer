{"ast":null,"code":"import _objectSpread from\"C:/Users/sanja/OneDrive/Desktop/New folder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Box,TextField,Button,MenuItem,Paper,Typography,CircularProgress}from'@mui/material';import{DatePicker}from'@mui/x-date-pickers/DatePicker';import{LocalizationProvider}from'@mui/x-date-pickers/LocalizationProvider';import{AdapterDateFns}from'@mui/x-date-pickers/AdapterDateFns';import{createExpense,updateExpense}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=['Food','Transport','Housing','Utilities','Entertainment','Investment','Other'];const ExpenseForm=_ref=>{let{expense,onSuccess,onCancel}=_ref;const[formData,setFormData]=useState({amount:(expense===null||expense===void 0?void 0:expense.amount)||0,description:(expense===null||expense===void 0?void 0:expense.description)||'',category:(expense===null||expense===void 0?void 0:expense.category)||categories[0],date:(expense===null||expense===void 0?void 0:expense.date)||new Date().toISOString().split('T')[0]});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{if(expense!==null&&expense!==void 0&&expense.id){await updateExpense(expense.id,formData);}else{await createExpense(formData);}onSuccess===null||onSuccess===void 0?void 0:onSuccess();}catch(err){setError('Failed to save expense');console.error('Error saving expense:',err);}finally{setLoading(false);}};const handleChange=field=>e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:field==='amount'?Number(e.target.value):e.target.value}));};return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:expense?'Edit Expense':'Add New Expense'}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",gap:2,children:[/*#__PURE__*/_jsx(TextField,{type:\"number\",label:\"Amount\",value:formData.amount,onChange:handleChange('amount'),InputProps:{startAdornment:/*#__PURE__*/_jsx(Typography,{children:\"$\"})},required:true,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",value:formData.description,onChange:handleChange('description'),required:true,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{select:true,label:\"Category\",value:formData.category,onChange:handleChange('category'),required:true,fullWidth:true,children:categories.map(category=>/*#__PURE__*/_jsx(MenuItem,{value:category,children:category},category))}),/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DatePicker,{label:\"Date\",value:new Date(formData.date||''),onChange:date=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{date:(date===null||date===void 0?void 0:date.toISOString().split('T')[0])||''}))})}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",variant:\"body2\",children:error}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,justifyContent:\"flex-end\",children:[onCancel&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:onCancel,disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):expense?'Update Expense':'Add Expense'})]})]})})]});};export default ExpenseForm;","map":{"version":3,"names":["React","useState","Box","TextField","Button","MenuItem","Paper","Typography","CircularProgress","DatePicker","LocalizationProvider","AdapterDateFns","createExpense","updateExpense","jsx","_jsx","jsxs","_jsxs","categories","ExpenseForm","_ref","expense","onSuccess","onCancel","formData","setFormData","amount","description","category","date","Date","toISOString","split","loading","setLoading","error","setError","handleSubmit","e","preventDefault","id","err","console","handleChange","field","prev","_objectSpread","Number","target","value","elevation","sx","p","mb","children","variant","gutterBottom","onSubmit","display","flexDirection","gap","type","label","onChange","InputProps","startAdornment","required","fullWidth","select","map","dateAdapter","color","justifyContent","onClick","disabled","size"],"sources":["C:/Users/sanja/OneDrive/Desktop/New folder/frontend/src/components/ExpenseForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n  Paper,\r\n  Typography,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { Expense, createExpense, updateExpense } from '../api/api';\r\n\r\nconst categories = [\r\n  'Food',\r\n  'Transport',\r\n  'Housing',\r\n  'Utilities',\r\n  'Entertainment',\r\n  'Investment',\r\n  'Other'\r\n];\r\n\r\ninterface ExpenseFormProps {\r\n  expense?: Expense;\r\n  onSuccess?: () => void;\r\n  onCancel?: () => void;\r\n}\r\n\r\nconst ExpenseForm: React.FC<ExpenseFormProps> = ({\r\n  expense,\r\n  onSuccess,\r\n  onCancel\r\n}) => {\r\n  const [formData, setFormData] = useState<Partial<Expense>>({\r\n    amount: expense?.amount || 0,\r\n    description: expense?.description || '',\r\n    category: expense?.category || categories[0],\r\n    date: expense?.date || new Date().toISOString().split('T')[0]\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      if (expense?.id) {\r\n        await updateExpense(expense.id, formData);\r\n      } else {\r\n        await createExpense(formData as Omit<Expense, 'id' | 'createdAt' | 'updatedAt'>);\r\n      }\r\n      onSuccess?.();\r\n    } catch (err) {\r\n      setError('Failed to save expense');\r\n      console.error('Error saving expense:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field: keyof Expense) => (\r\n    e: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: field === 'amount' ? Number(e.target.value) : e.target.value\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        {expense ? 'Edit Expense' : 'Add New Expense'}\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2}>\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Amount\"\r\n            value={formData.amount}\r\n            onChange={handleChange('amount')}\r\n            InputProps={{\r\n              startAdornment: <Typography>$</Typography>\r\n            }}\r\n            required\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            label=\"Description\"\r\n            value={formData.description}\r\n            onChange={handleChange('description')}\r\n            required\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            select\r\n            label=\"Category\"\r\n            value={formData.category}\r\n            onChange={handleChange('category')}\r\n            required\r\n            fullWidth\r\n          >\r\n            {categories.map((category) => (\r\n              <MenuItem key={category} value={category}>\r\n                {category}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n            <DatePicker\r\n              label=\"Date\"\r\n              value={new Date(formData.date || '')}\r\n              onChange={(date) =>\r\n                setFormData((prev) => ({\r\n                  ...prev,\r\n                  date: date?.toISOString().split('T')[0] || ''\r\n                }))\r\n              }\r\n            />\r\n          </LocalizationProvider>\r\n          {error && (\r\n            <Typography color=\"error\" variant=\"body2\">\r\n              {error}\r\n            </Typography>\r\n          )}\r\n          <Box display=\"flex\" gap={2} justifyContent=\"flex-end\">\r\n            {onCancel && (\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={onCancel}\r\n                disabled={loading}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            )}\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <CircularProgress size={24} />\r\n              ) : expense ? (\r\n                'Update Expense'\r\n              ) : (\r\n                'Add Expense'\r\n              )}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ExpenseForm; "],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACEC,GAAG,CACHC,SAAS,CACTC,MAAM,CACNC,QAAQ,CACRC,KAAK,CACLC,UAAU,CACVC,gBAAgB,KACX,eAAe,CACtB,OAASC,UAAU,KAAQ,gCAAgC,CAC3D,OAASC,oBAAoB,KAAQ,0CAA0C,CAC/E,OAASC,cAAc,KAAQ,oCAAoC,CACnE,OAAkBC,aAAa,CAAEC,aAAa,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,KAAM,CAAAC,UAAU,CAAG,CACjB,MAAM,CACN,WAAW,CACX,SAAS,CACT,WAAW,CACX,eAAe,CACf,YAAY,CACZ,OAAO,CACR,CAQD,KAAM,CAAAC,WAAuC,CAAGC,IAAA,EAI1C,IAJ2C,CAC/CC,OAAO,CACPC,SAAS,CACTC,QACF,CAAC,CAAAH,IAAA,CACC,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAmB,CACzDyB,MAAM,CAAE,CAAAL,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEK,MAAM,GAAI,CAAC,CAC5BC,WAAW,CAAE,CAAAN,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEM,WAAW,GAAI,EAAE,CACvCC,QAAQ,CAAE,CAAAP,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEO,QAAQ,GAAIV,UAAU,CAAC,CAAC,CAAC,CAC5CW,IAAI,CAAE,CAAAR,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEQ,IAAI,GAAI,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACkC,KAAK,CAAEC,QAAQ,CAAC,CAAGnC,QAAQ,CAAgB,IAAI,CAAC,CAEvD,KAAM,CAAAoC,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,GAAI,CACF,GAAIf,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEmB,EAAE,CAAE,CACf,KAAM,CAAA3B,aAAa,CAACQ,OAAO,CAACmB,EAAE,CAAEhB,QAAQ,CAAC,CAC3C,CAAC,IAAM,CACL,KAAM,CAAAZ,aAAa,CAACY,QAA2D,CAAC,CAClF,CACAF,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAG,CAAC,CACf,CAAE,MAAOmB,GAAG,CAAE,CACZL,QAAQ,CAAC,wBAAwB,CAAC,CAClCM,OAAO,CAACP,KAAK,CAAC,uBAAuB,CAAEM,GAAG,CAAC,CAC7C,CAAC,OAAS,CACRP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAS,YAAY,CAAIC,KAAoB,EACxCN,CAAsC,EACnC,CACHb,WAAW,CAAEoB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACZD,IAAI,MACP,CAACD,KAAK,EAAGA,KAAK,GAAK,QAAQ,CAAGG,MAAM,CAACT,CAAC,CAACU,MAAM,CAACC,KAAK,CAAC,CAAGX,CAAC,CAACU,MAAM,CAACC,KAAK,EACrE,CAAC,CACL,CAAC,CAED,mBACEhC,KAAA,CAACX,KAAK,EAAC4C,SAAS,CAAE,CAAE,CAACC,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,eACvCvC,IAAA,CAACR,UAAU,EAACgD,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAClCjC,OAAO,CAAG,cAAc,CAAG,iBAAiB,CACnC,CAAC,cACbN,IAAA,SAAM0C,QAAQ,CAAEpB,YAAa,CAAAiB,QAAA,cAC3BrC,KAAA,CAACf,GAAG,EAACwD,OAAO,CAAC,MAAM,CAACC,aAAa,CAAC,QAAQ,CAACC,GAAG,CAAE,CAAE,CAAAN,QAAA,eAChDvC,IAAA,CAACZ,SAAS,EACR0D,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAC,QAAQ,CACdb,KAAK,CAAEzB,QAAQ,CAACE,MAAO,CACvBqC,QAAQ,CAAEpB,YAAY,CAAC,QAAQ,CAAE,CACjCqB,UAAU,CAAE,CACVC,cAAc,cAAElD,IAAA,CAACR,UAAU,EAAA+C,QAAA,CAAC,GAAC,CAAY,CAC3C,CAAE,CACFY,QAAQ,MACRC,SAAS,MACV,CAAC,cACFpD,IAAA,CAACZ,SAAS,EACR2D,KAAK,CAAC,aAAa,CACnBb,KAAK,CAAEzB,QAAQ,CAACG,WAAY,CAC5BoC,QAAQ,CAAEpB,YAAY,CAAC,aAAa,CAAE,CACtCuB,QAAQ,MACRC,SAAS,MACV,CAAC,cACFpD,IAAA,CAACZ,SAAS,EACRiE,MAAM,MACNN,KAAK,CAAC,UAAU,CAChBb,KAAK,CAAEzB,QAAQ,CAACI,QAAS,CACzBmC,QAAQ,CAAEpB,YAAY,CAAC,UAAU,CAAE,CACnCuB,QAAQ,MACRC,SAAS,MAAAb,QAAA,CAERpC,UAAU,CAACmD,GAAG,CAAEzC,QAAQ,eACvBb,IAAA,CAACV,QAAQ,EAAgB4C,KAAK,CAAErB,QAAS,CAAA0B,QAAA,CACtC1B,QAAQ,EADIA,QAEL,CACX,CAAC,CACO,CAAC,cACZb,IAAA,CAACL,oBAAoB,EAAC4D,WAAW,CAAE3D,cAAe,CAAA2C,QAAA,cAChDvC,IAAA,CAACN,UAAU,EACTqD,KAAK,CAAC,MAAM,CACZb,KAAK,CAAE,GAAI,CAAAnB,IAAI,CAACN,QAAQ,CAACK,IAAI,EAAI,EAAE,CAAE,CACrCkC,QAAQ,CAAGlC,IAAI,EACbJ,WAAW,CAAEoB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACZD,IAAI,MACPhB,IAAI,CAAE,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAI,EAAE,EAC7C,CACH,CACF,CAAC,CACkB,CAAC,CACtBG,KAAK,eACJpB,IAAA,CAACR,UAAU,EAACgE,KAAK,CAAC,OAAO,CAAChB,OAAO,CAAC,OAAO,CAAAD,QAAA,CACtCnB,KAAK,CACI,CACb,cACDlB,KAAA,CAACf,GAAG,EAACwD,OAAO,CAAC,MAAM,CAACE,GAAG,CAAE,CAAE,CAACY,cAAc,CAAC,UAAU,CAAAlB,QAAA,EAClD/B,QAAQ,eACPR,IAAA,CAACX,MAAM,EACLmD,OAAO,CAAC,UAAU,CAClBkB,OAAO,CAAElD,QAAS,CAClBmD,QAAQ,CAAEzC,OAAQ,CAAAqB,QAAA,CACnB,QAED,CAAQ,CACT,cACDvC,IAAA,CAACX,MAAM,EACLyD,IAAI,CAAC,QAAQ,CACbN,OAAO,CAAC,WAAW,CACnBgB,KAAK,CAAC,SAAS,CACfG,QAAQ,CAAEzC,OAAQ,CAAAqB,QAAA,CAEjBrB,OAAO,cACNlB,IAAA,CAACP,gBAAgB,EAACmE,IAAI,CAAE,EAAG,CAAE,CAAC,CAC5BtD,OAAO,CACT,gBAAgB,CAEhB,aACD,CACK,CAAC,EACN,CAAC,EACH,CAAC,CACF,CAAC,EACF,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}